# Smipc

## Message Format

```
+-SharedMemory------------------------------------------------------------------------+
| +-RingBuffer----------------------------------------------------------------------+ |
| |  rx waiting  |  tx waiting  |  turn  |  front  |   next   |   free   |   count  | |
| +-Packet--------------------------------------------------------------------------+ |
| |      |      |          |             |              | +-Serialisation segment-+ | |
| | lock | size | checksum | transfer_id | packet_count | |         data          | | |
| |      |      |          |             |              | +-----------------------+ | |
| +-Packet--------------------------------------------------------------------------+ |
| |      |      |          |             |              | +-Serialisation segment-+ | |
| | lock | size | checksum | transfer_id | packet_count | |         data          | | |
| |      |      |          |             |              | +-----------------------+ | |
| +-Packet--------------------------------------------------------------------------+ |
| |      |      |          |             |              | +-Serialisation segment-+ | |
| | lock | size | checksum | transfer_id | packet_count | |         data          | | |
| |      |      |          |             |              | +-----------------------+ | |
| +---------------------------------------------------------------------------------+ |
+-------------------------------------------------------------------------------------+
```
